<div class="container mt-3">
    <div class="row">
        <div class="col-2">
            <div>
                <div>
                    <h2><%= link_to semesters_path, class: "" do %><i class="bi bi-arrow-return-left"></i><% end %></h2>
                      <h3><%= @semester.semester%> <%= @semester.year%></h3>
                    <ul class="list-unstyled ps-0">
                        <li class="border-top my-3"></li>
                        <li>
                          <div class="col-sm-8">
                            <%= bootstrap_form_with url: semester_team_path(@semester), method: "get", local: true do |f|%>
                              <%= f.select :team, @teams %>
                              <hr>
                              <%= f.select :sprint, @sprint_list %>
                              <%= f.submit "View"%>
                            <% end %>
                          </div>
                          <hr>
                        </li>
                      <li class="mb-1">
                        <button class="btn btn-primary">
                          <%= link_to "Edit Semester",
                                      edit_semester_path(@semester),
                                      class: "btn btn-t d-inline-flex align-items-center rounded border-0"%>
                        </button>
                      </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col-10 text-center">
            <div class="row">
                <div class="mt-4">

                  <% if team_exist(@teams) %>
                    <h2>Team Status</h2>
                    <div class="mt-3 mb-3">
                      <h5>Legend:</h5>
                      <ul class="list-inline">
                        <li class="list-inline-item">
                          <%= image_tag "check-circle-fill.svg", class: "", style: "height:16px" %> All Good
                        </li>
                        <li class="list-inline-item">
                          <%= image_tag "question-circle-fill.svg", class: "", style: "height:16px" %> No Data
                        </li>
                        <li class="list-inline-item">
                          <%= image_tag "exclamation-circle-fill-yellow.svg", class: "", style: "height:16px" %> No Client Survey
                        </li>
                        <li class="list-inline-item">
                          <%= image_tag "exclamation-triangle-fill-red.svg", class: "", style: "height:16px" %> Poor Performance
                        </li>
                        <%# Add more icons and labels if needed %>
                      </ul>
                    </div>

                    <p>Note: Hover over warning symbol to see more details</p>
                    <table class="table">
                      <thead>
                      <tr>
                        <th scope="col">Team</th>
                        <%= sprint_header(@sprint_list) %>
                      </tr>
                      </thead>
                      <tbody>
                      <%= team_rows(@teams, @sprint_list, @flags) %>
                      </tbody>
                    </table>
                  <% end %>



                  <%# if team_exist(@teams)%>
<!--                        <h2>Team Status</h2>-->
<!--                        <p>Note: Hover over warning symbol to see more details</p>-->
<!--                        <table class="table">-->
<!--                            <thead>-->
<!--                                <tr>-->
<!--                                    <th scope="col">Team</th>-->
                                    <%# @sprint_list.each do |sprint| %>
<!--                                        <th scope="col"><%#= sprint %></th>-->
                                    <%# end %>
<!--                                </tr>-->
<!--                            </thead>-->
<!--                            <tbody>-->
                                <%# @teams.each do |current_team|%>
<!--                                    <tr>-->
<!--                                        <th><%#= current_team %></th>-->
                                        <%# @sprint_list.each do |sprint| %>
<!--                                            <td>-->
<!--                                                <div>-->
                                                    <%# if @flags[sprint][current_team].include?("student blank")%>
                                                        <%# if unfinished_sprint(@teams, @flags, sprint)%>
<!--                                                            <div class="p-2 m-0"><p class="p-0 m-0"><%#= image_tag "question-circle-fill.svg", class:"", style: "height:16px", title: "This sprint has not yet concluded"%></p></div>-->
                                                        <%# else %>
<!--                                                            <div class="p-2 m-0"><p class="p-0 m-0"><%#= image_tag "exclamation-triangle-fill-red.svg", class:"", style: "height:16px", title: "All students failed to submit a survey"%></p></div>-->
                                                        <%# end %>
                                                    <%# elsif @flags[sprint][current_team].empty? %>
<!--                                                        <div class="p-2 m-0"><p class="p-0 m-0"><%#= image_tag "check-circle-fill.svg", class:"", style: "height:16px", title: "All is well"%></p></div>-->
                                                    <%# else %>
                                                        <%# if @flags[sprint][current_team].include?("missing submit") %>
<!--                                                            <div class="p-2 m-0"><p class="p-0 m-0"><%#= image_tag "exclamation-triangle-fill-red.svg", class:"", style: "height:16px", title: "At least one of the students failed to submit a survey"%></p></div>-->
                                                        <%# end %>
                                                        <%# if @flags[sprint][current_team].include?("low score") %>
<!--                                                            <div class="p-2 m-0"><p class="p-0 m-0"><%#= image_tag "exclamation-triangle-fill-red.svg", class:"", style: "height:16px", title: "At least one of the students received an average rating lower than 4"%></p></div>-->
                                                        <%# end %>
                                                        <%# if @flags[sprint][current_team].include?("no client score") %>
<!--                                                            <div class="p-2 m-0"><p class="p-0 m-0"><%#= image_tag "exclamation-triangle-fill-red.svg", class:"", style: "height:16px", title: "The client did not submit a survey"%></p></div>-->
                                                        <%# end %>
                                                        <%# if @flags[sprint][current_team].include?("low client score") %>
<!--                                                            <div class="p-2 m-0"><p class="p-0 m-0"><%#= image_tag "exclamation-triangle-fill-red.svg", class:"", style: "height:16px", title: "The client is unsatisfied"%></p></div>-->
                                                        <%# end %>
                                                    <%# end %>
<!--                                                </div>-->
<!--                                            </td>-->
                                        <%# end %>
<!--                                    </tr>-->
                                <%# end %>
<!--                            </tbody>-->
<!--                        </table>-->
                    <%# end %>
                </div>
            </div>
        </div>
    </div>
</div>